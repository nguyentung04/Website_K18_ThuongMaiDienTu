{"ast":null,"code":"import axios from 'axios';\nexport const fetchProvinces = async () => {\n  const response = await axios.get('https://provinces.open-api.vn/api/p');\n  return response.data;\n};\nexport const fetchDistricts = async () => {\n  try {\n    const provinces = await fetchProvinces();\n    const districts = await Promise.all(provinces.map(async province => {\n      const response = await axios.get(`https://provinces.open-api.vn/api/p/${province.code}?depth=2`);\n\n      // Kiểm tra xem API có trả về danh sách quận huyện không\n      if (response.data && response.data.districts) {\n        return {\n          name: province.name,\n          districts: response.data.districts.map(district => district.name) // Lấy tên quận huyện\n        };\n      }\n      return {\n        name: province.name,\n        districts: []\n      }; // Trường hợp không có quận huyện\n    }));\n    return districts;\n  } catch (error) {\n    console.error(\"Error fetching districts:\", error);\n    return [];\n  }\n};","map":{"version":3,"names":["axios","fetchProvinces","response","get","data","fetchDistricts","provinces","districts","Promise","all","map","province","code","name","district","error","console"],"sources":["E:/DU-AN-TOT-NGHIEP/Website_K18_ThuongMaiDienTu/my-app/src/service/api/city.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport const fetchProvinces = async () => {\r\n  const response = await axios.get('https://provinces.open-api.vn/api/p');\r\n  return response.data;\r\n};\r\n\r\nexport const fetchDistricts = async () => {\r\n  try {\r\n    const provinces = await fetchProvinces();\r\n\r\n    const districts = await Promise.all(provinces.map(async (province) => {\r\n      const response = await axios.get(`https://provinces.open-api.vn/api/p/${province.code}?depth=2`);\r\n      \r\n      // Kiểm tra xem API có trả về danh sách quận huyện không\r\n      if (response.data && response.data.districts) {\r\n        return {\r\n          name: province.name,\r\n          districts: response.data.districts.map(district => district.name), // Lấy tên quận huyện\r\n        };\r\n      }\r\n      return { name: province.name, districts: [] }; // Trường hợp không có quận huyện\r\n    }));\r\n\r\n    return districts;\r\n  } catch (error) {\r\n    console.error(\"Error fetching districts:\", error);\r\n    return [];\r\n  }\r\n};\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;EACxC,MAAMC,QAAQ,GAAG,MAAMF,KAAK,CAACG,GAAG,CAAC,qCAAqC,CAAC;EACvE,OAAOD,QAAQ,CAACE,IAAI;AACtB,CAAC;AAED,OAAO,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;EACxC,IAAI;IACF,MAAMC,SAAS,GAAG,MAAML,cAAc,CAAC,CAAC;IAExC,MAAMM,SAAS,GAAG,MAAMC,OAAO,CAACC,GAAG,CAACH,SAAS,CAACI,GAAG,CAAC,MAAOC,QAAQ,IAAK;MACpE,MAAMT,QAAQ,GAAG,MAAMF,KAAK,CAACG,GAAG,CAAC,uCAAuCQ,QAAQ,CAACC,IAAI,UAAU,CAAC;;MAEhG;MACA,IAAIV,QAAQ,CAACE,IAAI,IAAIF,QAAQ,CAACE,IAAI,CAACG,SAAS,EAAE;QAC5C,OAAO;UACLM,IAAI,EAAEF,QAAQ,CAACE,IAAI;UACnBN,SAAS,EAAEL,QAAQ,CAACE,IAAI,CAACG,SAAS,CAACG,GAAG,CAACI,QAAQ,IAAIA,QAAQ,CAACD,IAAI,CAAC,CAAE;QACrE,CAAC;MACH;MACA,OAAO;QAAEA,IAAI,EAAEF,QAAQ,CAACE,IAAI;QAAEN,SAAS,EAAE;MAAG,CAAC,CAAC,CAAC;IACjD,CAAC,CAAC,CAAC;IAEH,OAAOA,SAAS;EAClB,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACjD,OAAO,EAAE;EACX;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}