{"ast":null,"code":"import axios from \"axios\";\nconst BASE_URL = \"http://localhost:3000/api\";\nexport const fetchCategories = async id => {\n  try {\n    const response = await axios.get(`${BASE_URL}/categories`);\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching order:\", error);\n    throw error;\n  }\n};\nexport const fetchCategoriesById = async id => {\n  try {\n    const response = await axios.get(`${BASE_URL}/categories/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching order:\", error);\n    throw error;\n  }\n};\nexport const updateCategory = async (id, userData) => {\n  try {\n    // Log the User data being sent for debugging\n    console.log(\"Updating categories:\", {\n      id,\n      userData\n    });\n\n    // Perform the PUT request to update the User\n    const response = await axios.put(`${BASE_URL}/categories/${id}`, userData, {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      } // Correct header for JSON data\n    });\n\n    // Return the response data\n    return response.data;\n  } catch (error) {\n    // Log and throw the error for proper error handling\n    console.error(\"Failed to update product:\", error);\n    throw error;\n  }\n};\nexport const addCategory = async categoryData => {\n  try {\n    const response = await fetch(`${BASE_URL}/categories`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(categoryData)\n    });\n    if (!response.ok) {\n      const errorData = await response.json(); // Đọc lỗi từ server\n      console.error(\"Lỗi từ phía server:\", errorData); // In chi tiết lỗi\n      throw new Error(\"Failed to add category\");\n    }\n    return await response.json();\n  } catch (error) {\n    console.error(\"Lỗi khi thêm danh mục:\", error);\n    throw error;\n  }\n};\nexport const deleteCategory = async id => {\n  try {\n    const response = await axios.delete(`${BASE_URL}/categories/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error(\"Error deleting categories:\", error);\n    throw error;\n  }\n};","map":{"version":3,"names":["axios","BASE_URL","fetchCategories","id","response","get","data","error","console","fetchCategoriesById","updateCategory","userData","log","put","headers","addCategory","categoryData","fetch","method","body","JSON","stringify","ok","errorData","json","Error","deleteCategory","delete"],"sources":["E:/DU-AN-TOT-NGHIEP/Website_K18_ThuongMaiDienTu/my-app/src/service/api/Category.js"],"sourcesContent":["import axios from \"axios\";\r\nconst BASE_URL = \"http://localhost:3000/api\";\r\n\r\nexport const fetchCategories = async (id) => {\r\n  try {\r\n    const response = await axios.get(`${BASE_URL}/categories`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"Error fetching order:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const fetchCategoriesById = async (id) => {\r\n  try {\r\n    const response = await axios.get(`${BASE_URL}/categories/${id}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"Error fetching order:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateCategory = async (id, userData) => {\r\n  try {\r\n    // Log the User data being sent for debugging\r\n    console.log(\"Updating categories:\", { id, userData });\r\n\r\n    // Perform the PUT request to update the User\r\n    const response = await axios.put(`${BASE_URL}/categories/${id}`, userData, {\r\n      headers: { \"Content-Type\": \"application/json\" }, // Correct header for JSON data\r\n    });\r\n\r\n    // Return the response data\r\n    return response.data;\r\n  } catch (error) {\r\n    // Log and throw the error for proper error handling\r\n    console.error(\"Failed to update product:\", error);\r\n    throw error;\r\n  }\r\n};\r\nexport const addCategory = async (categoryData) => {\r\n  try {\r\n    const response = await fetch(`${BASE_URL}/categories`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(categoryData),\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      const errorData = await response.json();  // Đọc lỗi từ server\r\n      console.error(\"Lỗi từ phía server:\", errorData);  // In chi tiết lỗi\r\n      throw new Error(\"Failed to add category\");\r\n    }\r\n    \r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error(\"Lỗi khi thêm danh mục:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n\r\nexport const deleteCategory = async (id) => {\r\n  try {\r\n    const response = await axios.delete(`${BASE_URL}/categories/${id}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"Error deleting categories:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,QAAQ,GAAG,2BAA2B;AAE5C,OAAO,MAAMC,eAAe,GAAG,MAAOC,EAAE,IAAK;EAC3C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAC,GAAGJ,QAAQ,aAAa,CAAC;IAC1D,OAAOG,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,MAAMA,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAME,mBAAmB,GAAG,MAAON,EAAE,IAAK;EAC/C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAG,CAAC,GAAGJ,QAAQ,eAAeE,EAAE,EAAE,CAAC;IAChE,OAAOC,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,MAAMA,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAMG,cAAc,GAAG,MAAAA,CAAOP,EAAE,EAAEQ,QAAQ,KAAK;EACpD,IAAI;IACF;IACAH,OAAO,CAACI,GAAG,CAAC,sBAAsB,EAAE;MAAET,EAAE;MAAEQ;IAAS,CAAC,CAAC;;IAErD;IACA,MAAMP,QAAQ,GAAG,MAAMJ,KAAK,CAACa,GAAG,CAAC,GAAGZ,QAAQ,eAAeE,EAAE,EAAE,EAAEQ,QAAQ,EAAE;MACzEG,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC,CAAE;IACnD,CAAC,CAAC;;IAEF;IACA,OAAOV,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd;IACAC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACjD,MAAMA,KAAK;EACb;AACF,CAAC;AACD,OAAO,MAAMQ,WAAW,GAAG,MAAOC,YAAY,IAAK;EACjD,IAAI;IACF,MAAMZ,QAAQ,GAAG,MAAMa,KAAK,CAAC,GAAGhB,QAAQ,aAAa,EAAE;MACrDiB,MAAM,EAAE,MAAM;MACdJ,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDK,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACL,YAAY;IACnC,CAAC,CAAC;IAEF,IAAI,CAACZ,QAAQ,CAACkB,EAAE,EAAE;MAChB,MAAMC,SAAS,GAAG,MAAMnB,QAAQ,CAACoB,IAAI,CAAC,CAAC,CAAC,CAAE;MAC1ChB,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEgB,SAAS,CAAC,CAAC,CAAE;MAClD,MAAM,IAAIE,KAAK,CAAC,wBAAwB,CAAC;IAC3C;IAEA,OAAO,MAAMrB,QAAQ,CAACoB,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC,OAAOjB,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAC9C,MAAMA,KAAK;EACb;AACF,CAAC;AAGD,OAAO,MAAMmB,cAAc,GAAG,MAAOvB,EAAE,IAAK;EAC1C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAAC2B,MAAM,CAAC,GAAG1B,QAAQ,eAAeE,EAAE,EAAE,CAAC;IACnE,OAAOC,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAClD,MAAMA,KAAK;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}