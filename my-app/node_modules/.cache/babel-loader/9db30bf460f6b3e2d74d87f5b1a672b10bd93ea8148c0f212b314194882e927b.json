{"ast":null,"code":"var _jsxFileName = \"E:\\\\DU-AN-TOT-NGHIEP\\\\Website_K18_ThuongMaiDienTu\\\\my-app\\\\src\\\\pages\\\\Client\\\\CheckoutForm\\\\CheckoutForm.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./CheckoutForm.css\";\nimport { Box, Button, Flex, FormControl, FormErrorMessage, FormLabel, Input, Select, Spinner, Textarea, useToast } from \"@chakra-ui/react\";\nimport { fetchProvinces, fetchDistricts } from \"../../../service/api/city\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CheckoutForm = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    city: \"\",\n    province: \"\",\n    address: \"\",\n    note: \"\",\n    paymentMethod: \"COD\"\n  });\n  const [locations, setLocations] = useState([]);\n  const [loadingLocations, setLoadingLocations] = useState(true);\n  const navigate = useNavigate();\n  const [errors, setErrors] = useState({});\n  const [cities, setCities] = useState([]);\n  const [districts, setDistricts] = useState([]);\n  const [loadingDistricts, setLoadingDistricts] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const toast = useToast();\n  const [userId, setUserId] = useState(null);\n  useEffect(() => {\n    // Fetch locations once the component mounts\n    const getLocations = async () => {\n      try {\n        const data = await fetchDistricts();\n        setLocations(data);\n      } catch (error) {\n        console.error(\"Failed to fetch locations:\", error);\n      } finally {\n        setLoadingLocations(false);\n      }\n    };\n    getLocations();\n  }, []);\n  useEffect(() => {\n    // Retrieve userId from localStorage once when the component mounts\n    const userData = localStorage.getItem(\"userData\");\n    if (userData) {\n      try {\n        const parsedUserData = JSON.parse(userData);\n        if (parsedUserData && parsedUserData.id) {\n          setUserId(parsedUserData.id); // Set the userId if found\n        } else {\n          console.error(\"No user id found in localStorage.\");\n        }\n      } catch (error) {\n        console.error(\"Error parsing user data from localStorage\", error);\n      }\n    } else {\n      console.log(\"No user data found in localStorage.\");\n    }\n  }, []);\n  useEffect(() => {\n    // Update the list of districts based on the selected city\n    if (cities) {\n      const province = locations.find(loc => loc.name === cities);\n      setDistricts(province ? province.districts : []);\n    } else {\n      setDistricts([]);\n    }\n  }, [cities, locations]);\n  const handleProvinceChange = async e => {\n    const selectedProvince = e.target.value;\n    setFormData({\n      ...formData,\n      province: selectedProvince\n    });\n    setLoadingDistricts(true);\n    try {\n      const districtsData = await fetchDistricts();\n      setDistricts(districtsData);\n    } catch (error) {\n      console.error(\"Error fetching districts:\", error);\n    } finally {\n      setLoadingDistricts(false);\n    }\n  };\n  const handleCityChange = e => {\n    const selectedCity = e.target.value;\n    setFormData({\n      ...formData,\n      city: selectedCity\n    });\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n  };\n  const validateForm = () => {\n    const newErrors = {};\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    const phoneRegex = /^[0-9]{10,11}$/;\n    if (!formData.name) newErrors.name = \"Tên khách hàng là bắt buộc\";\n    if (!formData.email || !emailRegex.test(formData.email)) newErrors.email = \"Địa chỉ email không hợp lệ\";\n    if (!formData.phone || !phoneRegex.test(formData.phone)) newErrors.phone = \"Số điện thoại không hợp lệ\";\n    if (!formData.address) newErrors.address = \"Địa chỉ nhận hàng là bắt buộc\";\n    if (!formData.paymentMethod) newErrors.paymentMethod = \"Chọn phương thức thanh toán\";\n    setErrors(newErrors);\n    return !Object.values(newErrors).length;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm()) return;\n    setIsSubmitting(true);\n    try {\n      const cart = JSON.parse(localStorage.getItem(\"cart\")) || [];\n      if (cart.length === 0) {\n        alert(\"Giỏ hàng trống. Không thể đặt hàng.\");\n        return;\n      }\n      const orderItems = cart.map(item => ({\n        product_id: item.id,\n        quantity: item.quantity,\n        price: parseFloat(item.price),\n        total: parseFloat(item.price) * item.quantity\n      }));\n      const orderData = {\n        ...formData,\n        Provinces: formData.city,\n        Districts: formData.province,\n        order_detail: orderItems,\n        user_id: userId // Ensure userId is included in the order data\n      };\n      console.log(orderData); // Check the order data\n\n      const response = await fetch(\"http://localhost:3000/api/orders\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(orderData)\n      });\n      const data = await response.json();\n      if (data.message === \"Đặt hàng thành công!\") {\n        localStorage.removeItem(\"cart\");\n        toast({\n          title: \"Đặt hàng thành công\",\n          description: \"Đơn hàng của bạn đã được gửi.\",\n          status: \"success\",\n          duration: 5000,\n          isClosable: true\n        });\n        navigate(\"/\");\n        setFormData({\n          name: \"\",\n          email: \"\",\n          phone: \"\",\n          city: \"\",\n          districts: \"\",\n          address: \"\",\n          note: \"\",\n          paymentMethod: \"COD\"\n        });\n      } else {\n        throw new Error(\"Có lỗi xảy ra. Vui lòng thử lại.\");\n      }\n    } catch (error) {\n      console.error(\"Error submitting order:\", error);\n      toast({\n        title: \"Lỗi\",\n        description: error.message,\n        status: \"error\",\n        duration: 5000,\n        isClosable: true\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"checkout-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Th\\xF4ng tin ng\\u01B0\\u1EDDi mua h\\xE0ng\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      flex: 7,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(FormControl, {\n          mb: 3,\n          isInvalid: errors.name,\n          children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n            htmlFor: \"name\",\n            children: \"T\\xEAn kh\\xE1ch h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            className: \"custom-input\",\n            id: \"name\",\n            name: \"name\",\n            placeholder: \"Nh\\u1EADp t\\xEAn kh\\xE1ch h\\xE0ng\",\n            value: formData.name,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormErrorMessage, {\n            children: errors.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          flexDirection: \"row\",\n          mb: 3,\n          gap: 2,\n          children: [/*#__PURE__*/_jsxDEV(FormControl, {\n            mb: 3,\n            isInvalid: errors.email,\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              htmlFor: \"email\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              className: \"custom-input\",\n              id: \"email\",\n              name: \"email\",\n              placeholder: \"Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9 email\",\n              value: formData.email,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormErrorMessage, {\n              children: errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            mb: 3,\n            isInvalid: errors.phone,\n            children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n              htmlFor: \"phone\",\n              children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              className: \"custom-input\",\n              id: \"phone\",\n              name: \"phone\",\n              placeholder: \"Nh\\u1EADp s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\n              value: formData.phone,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormErrorMessage, {\n              children: errors.phone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          display: \"flex\",\n          flexDirection: \"row\",\n          mb: 3,\n          gap: 2,\n          children: loadingLocations ? /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Flex, {\n            children: [/*#__PURE__*/_jsxDEV(FormControl, {\n              mb: 3,\n              isInvalid: errors.province,\n              children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                htmlFor: \"province\",\n                children: \"T\\u1EC9nh/Th\\xE0nh ph\\u1ED1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                className: \"custom-input\",\n                id: \"province\",\n                name: \"province\",\n                value: formData.province,\n                placeholder: \"Ch\\u1ECDn T\\u1EC9nh/Th\\xE0nh ph\\u1ED1\",\n                onChange: handleProvinceChange,\n                mb: 4,\n                children: locations.map((location, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: location.name,\n                  children: location.name\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              mb: 3,\n              isInvalid: errors.city,\n              children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                htmlFor: \"city\",\n                children: \"Qu\\u1EADn/Huy\\u1EC7n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                className: \"custom-input\",\n                id: \"city\",\n                name: \"city\",\n                value: formData.city,\n                placeholder: \"Ch\\u1ECDn Qu\\u1EADn/Huy\\u1EC7n\",\n                isDisabled: !formData.province,\n                onChange: handleCityChange,\n                children: districts.map((district, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: district,\n                  children: district\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          mb: 3,\n          isInvalid: errors.address,\n          children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n            htmlFor: \"address\",\n            children: \"\\u0110\\u1ECBa ch\\u1EC9 c\\u1EE5 th\\u1EC3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n            className: \"custom-input\",\n            id: \"address\",\n            name: \"address\",\n            placeholder: \"Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9 nh\\u1EADn h\\xE0ng\",\n            value: formData.address,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormErrorMessage, {\n            children: errors.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          mb: 3,\n          isInvalid: errors.paymentMethod,\n          children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n            htmlFor: \"paymentMethod\",\n            children: \"Ph\\u01B0\\u01A1ng th\\u1EE9c thanh to\\xE1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            className: \"custom-input\",\n            id: \"paymentMethod\",\n            name: \"paymentMethod\",\n            placeholder: \"Ch\\u1ECDn ph\\u01B0\\u01A1ng th\\u1EE9c thanh to\\xE1n\",\n            value: formData.paymentMethod,\n            onChange: handleChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"COD\",\n              children: \"Thanh to\\xE1n khi nh\\u1EADn h\\xE0ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Bank Transfer\",\n              children: \"Chuy\\u1EC3n kho\\u1EA3n ng\\xE2n h\\xE0ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormErrorMessage, {\n            children: errors.paymentMethod\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"w-100\",\n          type: \"submit\",\n          colorScheme: \"teal\",\n          isLoading: isSubmitting,\n          children: \"\\u0110\\u1EB7t h\\xE0ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 219,\n    columnNumber: 5\n  }, this);\n};\n_s(CheckoutForm, \"wlmxl4qKqo1+XZRwsEv0cQr88yQ=\", false, function () {\n  return [useNavigate, useToast];\n});\n_c = CheckoutForm;\nexport default CheckoutForm;\nvar _c;\n$RefreshReg$(_c, \"CheckoutForm\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Box","Button","Flex","FormControl","FormErrorMessage","FormLabel","Input","Select","Spinner","Textarea","useToast","fetchProvinces","fetchDistricts","jsxDEV","_jsxDEV","CheckoutForm","_s","formData","setFormData","name","email","phone","city","province","address","note","paymentMethod","locations","setLocations","loadingLocations","setLoadingLocations","navigate","errors","setErrors","cities","setCities","districts","setDistricts","loadingDistricts","setLoadingDistricts","isSubmitting","setIsSubmitting","toast","userId","setUserId","getLocations","data","error","console","userData","localStorage","getItem","parsedUserData","JSON","parse","id","log","find","loc","handleProvinceChange","e","selectedProvince","target","value","districtsData","handleCityChange","selectedCity","handleChange","validateForm","newErrors","emailRegex","phoneRegex","test","Object","values","length","handleSubmit","preventDefault","cart","alert","orderItems","map","item","product_id","quantity","price","parseFloat","total","orderData","Provinces","Districts","order_detail","user_id","response","fetch","method","headers","body","stringify","json","message","removeItem","title","description","status","duration","isClosable","Error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","flex","onSubmit","mb","isInvalid","htmlFor","placeholder","onChange","display","flexDirection","gap","location","index","isDisabled","district","type","colorScheme","isLoading","_c","$RefreshReg$"],"sources":["E:/DU-AN-TOT-NGHIEP/Website_K18_ThuongMaiDienTu/my-app/src/pages/Client/CheckoutForm/CheckoutForm.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./CheckoutForm.css\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  Flex,\r\n  FormControl,\r\n  FormErrorMessage,\r\n  FormLabel,\r\n  Input,\r\n  Select,\r\n  Spinner,\r\n  Textarea,\r\n  useToast,\r\n} from \"@chakra-ui/react\";\r\nimport { fetchProvinces, fetchDistricts } from \"../../../service/api/city\";\r\n\r\nconst CheckoutForm = () => {\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    city: \"\",\r\n    province: \"\",\r\n    address: \"\",\r\n    note: \"\",\r\n    paymentMethod: \"COD\",\r\n  });\r\n\r\n  const [locations, setLocations] = useState([]);\r\n  const [loadingLocations, setLoadingLocations] = useState(true);\r\n  const navigate = useNavigate();\r\n  const [errors, setErrors] = useState({});\r\n  const [cities, setCities] = useState([]);\r\n  const [districts, setDistricts] = useState([]);\r\n  const [loadingDistricts, setLoadingDistricts] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const toast = useToast();\r\n\r\n  const [userId, setUserId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Fetch locations once the component mounts\r\n    const getLocations = async () => {\r\n      try {\r\n        const data = await fetchDistricts();\r\n        setLocations(data);\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch locations:\", error);\r\n      } finally {\r\n        setLoadingLocations(false);\r\n      }\r\n    };\r\n\r\n    getLocations();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Retrieve userId from localStorage once when the component mounts\r\n    const userData = localStorage.getItem(\"userData\");\r\n  \r\n    if (userData) {\r\n      try {\r\n        const parsedUserData = JSON.parse(userData);\r\n        if (parsedUserData && parsedUserData.id) {\r\n          setUserId(parsedUserData.id); // Set the userId if found\r\n        } else {\r\n          console.error(\"No user id found in localStorage.\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error parsing user data from localStorage\", error);\r\n      }\r\n    } else {\r\n      console.log(\"No user data found in localStorage.\");\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Update the list of districts based on the selected city\r\n    if (cities) {\r\n      const province = locations.find((loc) => loc.name === cities);\r\n      setDistricts(province ? province.districts : []);\r\n    } else {\r\n      setDistricts([]);\r\n    }\r\n  }, [cities, locations]);\r\n\r\n  const handleProvinceChange = async (e) => {\r\n    const selectedProvince = e.target.value;\r\n    setFormData({\r\n      ...formData,\r\n      province: selectedProvince,\r\n    });\r\n\r\n    setLoadingDistricts(true);\r\n    try {\r\n      const districtsData = await fetchDistricts();\r\n      setDistricts(districtsData);\r\n    } catch (error) {\r\n      console.error(\"Error fetching districts:\", error);\r\n    } finally {\r\n      setLoadingDistricts(false);\r\n    }\r\n  };\r\n\r\n  const handleCityChange = (e) => {\r\n    const selectedCity = e.target.value;\r\n    setFormData({\r\n      ...formData,\r\n      city: selectedCity,\r\n    });\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    const phoneRegex = /^[0-9]{10,11}$/;\r\n\r\n    if (!formData.name) newErrors.name = \"Tên khách hàng là bắt buộc\";\r\n    if (!formData.email || !emailRegex.test(formData.email))\r\n      newErrors.email = \"Địa chỉ email không hợp lệ\";\r\n    if (!formData.phone || !phoneRegex.test(formData.phone))\r\n      newErrors.phone = \"Số điện thoại không hợp lệ\";\r\n    if (!formData.address) newErrors.address = \"Địa chỉ nhận hàng là bắt buộc\";\r\n    if (!formData.paymentMethod)\r\n      newErrors.paymentMethod = \"Chọn phương thức thanh toán\";\r\n\r\n    setErrors(newErrors);\r\n    return !Object.values(newErrors).length;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateForm()) return;\r\n\r\n    setIsSubmitting(true);\r\n    try {\r\n      const cart = JSON.parse(localStorage.getItem(\"cart\")) || [];\r\n      if (cart.length === 0) {\r\n        alert(\"Giỏ hàng trống. Không thể đặt hàng.\");\r\n        return;\r\n      }\r\n\r\n      const orderItems = cart.map((item) => ({\r\n        product_id: item.id,\r\n        quantity: item.quantity,\r\n        price: parseFloat(item.price),\r\n        total: parseFloat(item.price) * item.quantity,\r\n      }));\r\n\r\n      const orderData = {\r\n        ...formData,\r\n        Provinces: formData.city,\r\n        Districts: formData.province,\r\n        order_detail: orderItems,\r\n        user_id: userId, // Ensure userId is included in the order data\r\n      };\r\n\r\n      console.log(orderData); // Check the order data\r\n\r\n      const response = await fetch(\"http://localhost:3000/api/orders\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(orderData),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.message === \"Đặt hàng thành công!\") {\r\n        localStorage.removeItem(\"cart\");\r\n        toast({\r\n          title: \"Đặt hàng thành công\",\r\n          description: \"Đơn hàng của bạn đã được gửi.\",\r\n          status: \"success\",\r\n          duration: 5000,\r\n          isClosable: true,\r\n        });\r\n        navigate(\"/\");\r\n        setFormData({\r\n          name: \"\",\r\n          email: \"\",\r\n          phone: \"\",\r\n          city: \"\",\r\n          districts: \"\",\r\n          address: \"\",\r\n          note: \"\",\r\n          paymentMethod: \"COD\",\r\n        });\r\n      } else {\r\n        throw new Error(\"Có lỗi xảy ra. Vui lòng thử lại.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error submitting order:\", error);\r\n      toast({\r\n        title: \"Lỗi\",\r\n        description: error.message,\r\n        status: \"error\",\r\n        duration: 5000,\r\n        isClosable: true,\r\n      });\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"checkout-form\">\r\n      <h2>Thông tin người mua hàng</h2>\r\n      <Box flex={7}>\r\n        <form onSubmit={handleSubmit}>\r\n          <FormControl mb={3} isInvalid={errors.name}>\r\n            <FormLabel htmlFor=\"name\">Tên khách hàng</FormLabel>\r\n            <Input\r\n              className=\"custom-input\"\r\n              id=\"name\"\r\n              name=\"name\"\r\n              placeholder=\"Nhập tên khách hàng\"\r\n              value={formData.name}\r\n              onChange={handleChange}\r\n            />\r\n            <FormErrorMessage>{errors.name}</FormErrorMessage>\r\n          </FormControl>\r\n          <Box display=\"flex\" flexDirection=\"row\" mb={3} gap={2}>\r\n            <FormControl mb={3} isInvalid={errors.email}>\r\n              <FormLabel htmlFor=\"email\">Email</FormLabel>\r\n              <Input\r\n                className=\"custom-input\"\r\n                id=\"email\"\r\n                name=\"email\"\r\n                placeholder=\"Nhập địa chỉ email\"\r\n                value={formData.email}\r\n                onChange={handleChange}\r\n              />\r\n              <FormErrorMessage>{errors.email}</FormErrorMessage>\r\n            </FormControl>\r\n\r\n            <FormControl mb={3} isInvalid={errors.phone}>\r\n              <FormLabel htmlFor=\"phone\">Số điện thoại</FormLabel>\r\n              <Input\r\n                className=\"custom-input\"\r\n                id=\"phone\"\r\n                name=\"phone\"\r\n                placeholder=\"Nhập số điện thoại\"\r\n                value={formData.phone}\r\n                onChange={handleChange}\r\n              />\r\n              <FormErrorMessage>{errors.phone}</FormErrorMessage>\r\n            </FormControl>\r\n          </Box>\r\n\r\n          <Box display=\"flex\" flexDirection=\"row\" mb={3} gap={2}>\r\n            {loadingLocations ? (\r\n              <Spinner />\r\n            ) : (\r\n              <Flex>\r\n                <FormControl mb={3} isInvalid={errors.province}>\r\n                  <FormLabel htmlFor=\"province\">Tỉnh/Thành phố</FormLabel>\r\n                  <Select\r\n                    className=\"custom-input\"\r\n                    id=\"province\"\r\n                    name=\"province\"\r\n                    value={formData.province}\r\n                    placeholder=\"Chọn Tỉnh/Thành phố\"\r\n                    onChange={handleProvinceChange}\r\n                    mb={4}\r\n                  >\r\n                    {locations.map((location, index) => (\r\n                      <option key={index} value={location.name}>\r\n                        {location.name}\r\n                      </option>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n\r\n                <FormControl mb={3} isInvalid={errors.city}>\r\n                  <FormLabel htmlFor=\"city\">Quận/Huyện</FormLabel>\r\n                  <Select\r\n                    className=\"custom-input\"\r\n                    id=\"city\"\r\n                    name=\"city\"\r\n                    value={formData.city}\r\n                    placeholder=\"Chọn Quận/Huyện\"\r\n                    isDisabled={!formData.province}\r\n                    onChange={handleCityChange}\r\n                  >\r\n                    {districts.map((district, index) => (\r\n                      <option key={index} value={district}>\r\n                        {district}\r\n                      </option>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n              </Flex>\r\n            )}\r\n          </Box>\r\n\r\n          <FormControl mb={3} isInvalid={errors.address}>\r\n            <FormLabel htmlFor=\"address\">Địa chỉ cụ thể</FormLabel>\r\n            <Textarea\r\n              className=\"custom-input\"\r\n              id=\"address\"\r\n              name=\"address\"\r\n              placeholder=\"Nhập địa chỉ nhận hàng\"\r\n              value={formData.address}\r\n              onChange={handleChange}\r\n            />\r\n            <FormErrorMessage>{errors.address}</FormErrorMessage>\r\n          </FormControl>\r\n\r\n          <FormControl mb={3} isInvalid={errors.paymentMethod}>\r\n            <FormLabel htmlFor=\"paymentMethod\">Phương thức thanh toán</FormLabel>\r\n            <Select\r\n              className=\"custom-input\"\r\n              id=\"paymentMethod\"\r\n              name=\"paymentMethod\"\r\n              placeholder=\"Chọn phương thức thanh toán\"\r\n              value={formData.paymentMethod}\r\n              onChange={handleChange}\r\n            >\r\n              <option value=\"COD\">Thanh toán khi nhận hàng</option>\r\n              <option value=\"Bank Transfer\">Chuyển khoản ngân hàng</option>\r\n            </Select>\r\n            <FormErrorMessage>{errors.paymentMethod}</FormErrorMessage>\r\n          </FormControl>\r\n\r\n          <Button className=\"w-100\" type=\"submit\" colorScheme=\"teal\" isLoading={isSubmitting}>\r\n            Đặt hàng\r\n          </Button>\r\n        </form>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CheckoutForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}